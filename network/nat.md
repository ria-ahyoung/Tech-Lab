# NAT (네트워크 주소 변환 기술)

- 사설 네트워크 내부의 컴퓨터들이 인터넷과 통신할 때 사용되는 IP 주소를 변경하는 기술

- IPv4 주소의 부족과 보안 문제 이슈로 하나의 공인 IP 주소를 여러 개의 사설 IP 주소가 공유하여 사용하도록 돕는다.

- `NAT 기술` : 1:1 변환부터 여러 개 IP를 다른 IP 주소로 변환해 라우팅 해주는 기술

  - 사설/공인 IP ⇌ 공인/사설 IP 전환

  - IPv4 ⇌ IPv6 주소 변환

  - 사설 IP 주소 → 공인 IP 주소로 전환하는 것에 가장 많이 사용됨

- 실제 공식 용어는 `NAPT`(네트워크 주소 포트 변환), 실무에선 `PAT`(포트 주소 변환) 용어로 더 자주 쓰인다.

  - `PAT`은 NAT의 확장된 형태
  - 내부 컴퓨터들이 하나의 공인 IP 주소를 공유하면서 각 컴퓨터의 통신을 구분하기 위해 포트 번호를 사용하는 기술


### 활용 및 용도

- IPv4 주소 고갈 솔루션

  - IPv4 보존 전략 : 단기(서비네팅) & 중기(NAT, 사설 IP 체계) & 장기(IPv6 전환)

  - NAT 기술을 활용해 외부 공개용 공인 IP와 사설 IP별로 필요한 곳에 효율적으로 IP 사용이 가능하다.

- 보안 강화
  
  - 외부 통신용 내부 IP를 다른 IP로 변환 통신함으로써 사내 IP 주소 체계를 감출 수 있다.
  - NAT 주소 변환을 통해 사설 네트워크 내부의 컴퓨터들은 인터넷에 접속할 수 있게 되지만, 
  - 외부에서는 이 컴퓨터들의 실제 IP 주소를 알 수 없기 때문에 역변환 과정이 필요하다.

- IP 주소 체계가 같은 네트워크 간 통신 가능

  - 사설 IP간 통신할 때 주소 충돌이 발생할 수 있는데, IP 대역이 같은 네트워크간 통신을 위해
  - 출발지와 도착지를 한꺼번에 변환해주는 `Double NAT` 기술 활용

- 불필요한 설정 변경을 줄임

  - NAT/PAT 를 이용해 내부 네트워크 구성시 내부 서버나 PC 설정 변경을 최소화할 수 있다.


### NAT vs PAT

NAT은 사설 네트워크 내부의 여러 컴퓨터들이 하나의 공인 IP 주소를 공유하여 인터넷과 통신할 수 있게 해주는 기술로, 내부 컴퓨터의 사설 IP 주소를 공인 IP 주소로 변환하여 외부와 통신한다. 

PAT은 내부 컴퓨터의 사설 IP 주소와 포트 번호를 조합하여 공인 IP 주소로 변환하고, 이를 통해 여러 컴퓨터가 동시에 다양한 서비스에 접속을 돕는다.

∴ NAT은 여러 내부 컴퓨터가 하나의 공인 IP 주소를 공유하여 인터넷과 통신하는 기술이고, PAT은 내부 컴퓨터들이 포트 번호를 이용하여 같은 IP 주소에서 다양한 서비스에 접속할 수 있도록 하는 NAT의 확장된 형태이다.